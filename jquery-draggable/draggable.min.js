!function(e){e.fn.drags=function(a){a=e.extend({handle:"",cursor:"move",draggableClass:"draggable",activeHandleClass:"active-handle"},a);var s=null,l=""===a.handle?this:this.find(a.handle);return l.css("cursor",a.cursor).on("mousedown",function(l){""===a.handle?(s=e(this),s.addClass(a.draggableClass)):(s=e(this).parent(),s.addClass(a.draggableClass).find(a.handle).addClass(a.activeHandleClass));var n=s.outerHeight(),o=s.outerWidth(),t=s.offset().top+n-l.pageY,d=s.offset().left+o-l.pageX;e(document).on("mousemove",function(e){s.offset({top:e.pageY+t-n,left:e.pageX+d-o})}).on("mouseup",function(){e(this).off("mousemove"),null!==s&&(s.removeClass(a.draggableClass),s=null)}),l.preventDefault()}).on("mouseup",function(){""===a.handle?s.removeClass(a.draggableClass):s.removeClass(a.draggableClass).find(a.handle).removeClass(a.activeHandleClass),s=null}),this}}(jQuery);