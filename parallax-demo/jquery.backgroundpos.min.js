/*
 * http://keith-wood.name/backgroundPos.html
 * Background position animation for jQuery v1.1.0.
 * Written by Keith Wood (kbwood{at}iinet.com.au) November 2010.
 * Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
 * MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
 * Please attribute the author if you use it.
 */
(function(f){var e="bgPos";var d=!!f.Tween;if(d){f.Tween.propHooks.backgroundPosition={get:function(g){return b(f(g.elem).css(g.prop))},set:function(g){c(g)}}}else{f.fx.step.backgroundPosition=c}function b(i){var j=(i||"").split(/ /);var g={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"};var h=function(k){var l=(g[j[k]]||j[k]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);j[k]=[l[1],parseFloat(l[2]),l[4]||"px"]};if(j.length==1&&f.inArray(j[0],["top","bottom"])>-1){j[1]=j[0];j[0]="50%"}h(0);h(1);return j}function c(g){if(!g.set){a(g)}f(g.elem).css("background-position",((g.pos*(g.end[0][1]-g.start[0][1])+g.start[0][1])+g.end[0][2])+" "+((g.pos*(g.end[1][1]-g.start[1][1])+g.start[1][1])+g.end[1][2]))}function a(j){var h=f(j.elem);var k=h.data(e);h.css("backgroundPosition",k);j.start=b(k);j.end=b(f.fn.jquery>="1.6"?j.end:j.options.curAnim.backgroundPosition||j.options.curAnim["background-position"]);for(var g=0;g<j.end.length;g++){if(j.end[g][0]){j.end[g][1]=j.start[g][1]+(j.end[g][0]=="-="?-1:+1)*j.end[g][1]}}j.set=true}f.fn.animate=function(g){return function(k,h,j,i){if(k.backgroundPosition||k["background-position"]){this.data(e,this.css("backgroundPosition")||"left top")}return g.apply(this,[k,h,j,i])}}(f.fn.animate)})(jQuery);